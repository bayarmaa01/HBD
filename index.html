// Image array for 2019 birthday memories
const images = [
    '7.jpeg', 
    '6.jpg', 
    '3.jpg', 
    '4.jpeg',
];

// Stories associated with each image
const stories = {
    '7.jpeg': '2019 он. Жижигхэн Баяржаргал, 👩‍❤‍👨 жижигхэн Баярмаа.',
    '6.jpg': '2021 оны 6-р сарын 3-ны өдөр, ахлах сургуулиа төгсөх өдрөө ангийнхантайгаа, мөн 2-уулаа дурсамжийн зураг авхуулсан. Бид ахлах сургуулийн бүх хугацаанд ангийн найзууд байж, найзуудын хувьд ч, эцэст нь хосууд ч байсан тоо томшгүй олон дурсамжаа хуваалцсан. Энэ өдөр инээд хөөр, сорилт бэрхшээл, мартагдашгүй олон мөчүүдийг хуваалцсан догдлолоор дүүрэн байсан.',
    '3.jpg': '2021 оны есдүгээр сарын 18-нд Өнөөдрөөс 3 жилийн өмнө төрсөн өдрөөр чинь хамт байжээ. (Тэр үед өгсөн бэлгээс 👟 болоод зугтаад👣 явчихжээ🚶🏻‍♀️ би 😅)',
    '4.jpeg': '2022 оны 10-р сарын 2-нд, Онгоцны буудлаас🛫 холын зайн үерхэлд шилжсэн гуниг дүүрэн өдөр.🥺🥺.',
};

// Dynamically load images into gallery
const gallery = document.getElementById('gallery');

images.forEach(image => {
    const imgElement = document.createElement('img');
    imgElement.src = `images/${image}`;
    imgElement.alt = 'Best Memory photos';
    imgElement.loading = "lazy";
    imgElement.onclick = () => openLightbox(`images/${image}`, stories[image]); // Pass the image and story
    gallery.appendChild(imgElement);
});

// Lightbox for image zoom
function openLightbox(src, story) {
    const lightbox = document.getElementById("lightbox");
    const lightboxImg = document.getElementById("lightbox-img");
    const storyText = document.getElementById("story-text");
    const lightboxStory = document.getElementById("lightbox-story");
    
    // Set the image source and story text
    lightboxImg.src = src;
    storyText.textContent = story; 
    lightboxStory.textContent = story;
    
    // Show the lightbox
    lightbox.style.display = "block";
}

// Function to close the lightbox
function closeLightbox() {
    const lightbox = document.getElementById("lightbox");
    lightbox.style.display = "none";
}


// Video modal control
const videoModal = document.getElementById('video-modal');

function openVideo() {
    const modal = document.getElementById("video-modal");
    modal.style.display = "block";
}

// Function to close the video modal
function closeVideo() {
    const modal = document.getElementById("video-modal");
    modal.style.display = "none";
}

// Countdown Timer
const countdown = document.getElementById('countdown');
const birthdayDate = new Date('September 18, 2024 00:00:00').getTime();

const countdownInterval = setInterval(() => {
    const now = new Date().getTime();
    const distance = birthdayDate - now;

    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

    countdown.innerHTML = `Only ${days} days, ${hours} hours, ${minutes} minutes, and ${seconds} seconds left!`;

    if (distance < 0) {
        clearInterval(countdownInterval);
        countdown.innerHTML = "It's Your Birthday! 🎉";
    }
}, 1000);

function revealSecret() {
    const pinCode = '1002'; // Your university day in a format without the dot
    const enteredPin = document.getElementById('pinInput').value;

    if (enteredPin === pinCode) {
        document.getElementById('secretMessage').classList.remove('hidden');
    } else {
        alert("Код буруу байна!🙂‍↔ Арай санахгүй байгаа юм биш биз🤔");
    }
}
// Start the countdown as soon as the page loads
window.onload = function() {
    countdown();
};
